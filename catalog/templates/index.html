{% extends "base_generic.html" %}

{% block sidebar %}
{% if recently_viewed_books %}
<h2>Recently Viewed Books</h2>
<ul>
    {% for book in recently_viewed_books %}
    <li>
        <a href="{% url 'book-detail' book.pk %}">{{ book.title }}</a> 
        by {{ book.author }}
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No recently viewed books</p>
{% endif %}
{% endblock %}

{% block content %}
  <h1>Local Library Home</h1>
  <p>
    Welcome to LocalLibrary, a website developed by
    <em>Mozilla Developer Network</em>!
  </p>
  <h2>Dynamic content</h2>
  <p>The library has the following record counts:</p>
  <ul>
    <li><strong>Books:</strong> {{ num_books }}</li>
    <li><strong>Copies:</strong> {{ num_bookInstance }}</li>
    <li><strong>Copies available:</strong> {{ num_bookInstance_available }}</li>
    <li><strong>Authors:</strong> {{ num_author }}</li>
  </ul>
  <p>You have visited this page {{ num_visits }} time{{ num_visits|pluralize }}</p>
{% endblock %}